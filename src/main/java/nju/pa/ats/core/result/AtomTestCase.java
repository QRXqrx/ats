package nju.pa.ats.core.result;

import java.util.List;

/**
 * AtomTestCase represents an indivisble test case generated by a slicer.
 *
 * @author QRX
 * @email QRXwzx@outlook.com
 * @date 2020-02-12
 */
public class AtomTestCase extends AtomCodeSnippet{

    public AtomTestCase(String name) {
        super(name);
    }

    public AtomTestCase(String name, List<String> sourceCodeLines) {
        super(name, sourceCodeLines);
    }

    public AtomTestCase(String name, String sourcePath) {
        super(name, sourcePath);
    }

    public AtomTestCase(String name, String sourcePath, List<String> sourceCodeLines) {
        super(name, sourcePath, sourceCodeLines);
    }

    public AtomTestCase(List<String> sourceCodeLines) {
        super(sourceCodeLines);
    }

    /**
     * @author QRX
     * @date 2020-02-12
     * @return A string represent an atom test code.
     */
    @Override
    public String dumpSnippet() {
        final String LINE_SEPARATOR = System.lineSeparator();

        StringBuilder result = new StringBuilder();
        result.append("@Test").append(LINE_SEPARATOR);
        result.append("public void test").append(getName()).append("() {").append(LINE_SEPARATOR);
        // TODO: sourceCodeLines may contain "public void methodName".
        getSourceCodeLines().forEach((line) -> result.append(line).append(LINE_SEPARATOR));
        result.append("}");

        return result.toString();
    }

    @Override
    public boolean equals(Object o) {
        return super.equals(o);
    }
}
